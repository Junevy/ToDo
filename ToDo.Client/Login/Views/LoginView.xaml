<UserControl
    x:Class="ToDo.Client.Login.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cvt="clr-namespace:ToDo.Converter.Services;assembly=ToDo.Extensions"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lang="clr-namespace:ToDo.Extensions.Resx;assembly=ToDo.Extensions"
    xmlns:local="clr-namespace:ToDo.Client.Login.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:vm="clr-namespace:ToDo.Client.Login.ViewModels"
    Width="700"
    Height="450"
    d:DataContext="{d:DesignInstance Type=vm:LoginViewModel}"
    Background="{DynamicResource ApplicationBackgroundBrush}"
    FontFamily="Arial"
    mc:Ignorable="d">

    <UserControl.Resources>
        <cvt:InverseBoolConverter x:Key="InverseBoolConverter" />
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <!--<Image Margin="0,20,20,20"
            Grid.Column="0"
            Source="/ToDo.Resources;component/AppIcon/app_background.jpg"
            Stretch="UniformToFill" />-->
        <Grid
            Grid.Column="0"
            Margin="0,0,80,0"
            Background="#5689fb">

            <Path
                Width="80"
                Height="80"
                Data="{StaticResource other_icon}"
                Fill="#fffff9"
                Stretch="UniformToFill"
                Stroke="#fffff9" />
        </Grid>

        <Grid Grid.Column="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="4*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TabControl Grid.Row="0" Margin="0,20,0,0">
                    <TabItem IsSelected="True" >
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <ui:SymbolIcon Margin="0,0,6,0" Symbol="ArrowCircleRight24" />
                                <TextBlock Text="{lang:Resx Login}" />
                            </StackPanel>
                        </TabItem.Header>
                        <StackPanel Margin="0,15,100,0" HorizontalAlignment="Stretch">
                            <!--  account  -->
                            <TextBlock
                                Grid.Column="0"
                                Margin="5"
                                HorizontalAlignment="Stretch"
                                FontSize="12"
                                FontWeight="Normal"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{lang:Resx Account}" />
                            <ui:TextBox
                                x:Name="Account"
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                ui:AllowDrop="False"
                                BorderThickness="1.5"
                                FontSize="14"
                                Text="{Binding AccountDTO.Account, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}" />

                            <!--  password  -->
                            <TextBlock
                                Grid.Column="0"
                                Margin="5,15,5,5"
                                HorizontalAlignment="Stretch"
                                FontSize="12"
                                FontWeight="Normal"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{lang:Resx Password}" />
                            <ui:PasswordBox
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                ui:AllowDrop="False"
                                BorderThickness="1.5"
                                FontSize="14"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{Binding AccountDTO.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  RememberMe  -->
                            <ui:ToggleSwitch
                                Grid.Row="3"
                                Width="150"
                                Height="30"
                                Margin="0,20,0,0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Content="{lang:Resx RememberMe}"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}" />

                            <!--  Login  -->
                            <ui:Button
                                Width="100"
                                Height="35"
                                Margin="0,20,0,0"
                                HorizontalAlignment="Stretch"
                                Command="{Binding LoginCommand}"
                                Content="{lang:Resx Login}"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                IsEnabled="{Binding AccountDTO.HasErrors, Converter={StaticResource InverseBoolConverter}}" />


                        </StackPanel>
                    </TabItem>

                    <!--  Sign in  -->
                    <TabItem>
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <ui:SymbolIcon Margin="0,0,6,0" Symbol="HomeSplit48" />
                                <TextBlock Text="{lang:Resx SignIn}" />
                            </StackPanel>
                        </TabItem.Header>
                        <StackPanel Margin="0,15,100,0" HorizontalAlignment="Stretch">
                            <!--  account  -->
                            <TextBlock
                                Grid.Column="0"
                                Margin="5"
                                HorizontalAlignment="Stretch"
                                FontSize="12"
                                FontWeight="Normal"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{lang:Resx Account}" />
                            <ui:TextBox
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                ui:AllowDrop="False"
                                BorderThickness="1.5"
                                FontSize="14"
                                Text="{Binding AccountDTO.Account, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  password  -->
                            <TextBlock
                                Grid.Column="0"
                                Margin="5,15,5,5"
                                HorizontalAlignment="Stretch"
                                FontSize="12"
                                FontWeight="Normal"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{lang:Resx Password}" />
                            <ui:PasswordBox
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                ui:AllowDrop="False"
                                BorderThickness="1.5"
                                FontSize="14"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{Binding AccountDTO.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  Confirm Password  -->
                            <TextBlock
                                Grid.Column="0"
                                Margin="5,15,5,5"
                                HorizontalAlignment="Stretch"
                                FontSize="12"
                                FontWeight="Normal"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{lang:Resx ConfirmPassword}" />
                            <ui:PasswordBox
                                x:Name="ConfirmPassword"
                                Grid.Column="1"
                                HorizontalAlignment="Stretch"
                                ui:AllowDrop="False"
                                BorderThickness="1.5"
                                FontSize="14"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                Text="{Binding AccountDTO.ConfirmPassword, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <ui:Button
                                Width="100"
                                Height="35"
                                Margin="0,20,0,0"
                                HorizontalAlignment="Stretch"
                                Background=" #1E90FF"
                                Command="{Binding SignInCommand}"
                                Content="{lang:Resx SignIn}"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                IsEnabled="{Binding AccountDTO.HasErrors, Converter={StaticResource InverseBoolConverter}}" />
                        </StackPanel>
                    </TabItem>
                </TabControl>


                <StackPanel
                    Grid.Row="1"
                    Margin="0,0,100,0"
                    HorizontalAlignment="Stretch">

                    <Label Grid.Row="1" Content="{Binding AccountDTO.FirstError}" 
                           Visibility="{Binding AccountDTO.HasErrors, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Label.ContentTemplate>
                            <ItemContainerTemplate>
                                <Border
                                    Width="250"
                                    Background="#FFB6C1"
                                    CornerRadius="10">
                                    <StackPanel Margin="15,10,10,10" Orientation="Horizontal">
                                        <Path
                                            Width="20"
                                            Height="20"
                                            Margin="0,0,10,0"
                                            Data="{StaticResource attention_icon}"
                                            Fill="IndianRed"
                                            Stretch="UniformToFill"
                                            Stroke="IndianRed" />

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            FontFamily="Arial"
                                            FontSize="13"
                                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Text="{Binding}" />
                                    </StackPanel>
                                </Border>
                            </ItemContainerTemplate>
                        </Label.ContentTemplate>
                    </Label>
                </StackPanel>


            </Grid>


        </Grid>

    </Grid>
</UserControl>
